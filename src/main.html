<label for="nome">
    Nome: <br>
    <input type="text" name="nome" id="nome">
</label><br>
<label for="email">
    Email:<br>
    <input type="email" name="user" id="email">
</label><br>
<label for="user">
    User:<br>
    <input type="text" name="email" id="user">
</label><br>
<label for="password">
    Password:<br>
    <input type="password" name="senha" id="password">
</label><br>
<input type="submit" value="Enviar" onclick="enviarDados()"><br><br>

<button onclick="gerarToken()">gerar token</button>
<button onclick="verificarToken()">verificar token</button>

<script>
    function enviarDados(){
        let nome = document.querySelector("#nome").value;
        let email = document.querySelector("#email").value;
        let user = document.querySelector("#user").value;
        let senha = document.querySelector("#password").value;

        fetch("http://localhost/api.biblioteca/register", {
            method: 'POST',
            body: JSON.stringify({
                "nome": nome,
                "email": email,
                "usuario": user,
                "senha": senha
            }), 
            headers: {
                "Content-Type": "application/json"
            }
        }).then(function(response) {
           
           
        }).catch(function (response) {
            console.log(response);
        });
    }
    function gerarToken(){
        fetch("http://localhost/api.biblioteca/auth", {
            method: 'POST',
            body: JSON.stringify({
                "usuario": "fernandoC01",
                "senha": "fernando123"
            }), 
            headers: {
                "Content-Type": "application/json"
            }
        }).then(function(response) {
            console.log(response);
        }).catch(function (response) {
            console.log(response);
        });
    }
    function verificarToken(){
        fetch("http://localhost/api.biblioteca/livro/", {
            method: 'GET',
            headers: {
                'Authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c3VhcmlvIjoiZmVybmFuZG9DMDEiLCJpYXQiOjE2OTcyMzQ2OTcsImV4cCI6MTY5NzIzNDcwN30.TTW52BnakcIhNzyQIRjiEQf34YsOiK4oycBTR0XOj7g'
            }
        }).then(function(response) {
            console.log(response);
        }).catch(function (response) {
            console.log(response);
        });
    }
    
</script>